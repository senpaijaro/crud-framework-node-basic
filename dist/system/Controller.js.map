{"version":3,"sources":["../../app/system/Controller.js"],"names":["Controller","res","view","json","render","end","send","req","errorList","errors","validationErrors","forEach","error","msg","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;IACMA,U;AAEL,uBAAa;AAAA;;AACZ,+BAAS,IAAT;AACA;;;;;wGAEUC,G;QAAIC,K,uEAAK,I;;QAAKC,I,uEAAK,I;;;;;cAC1BD,SAAQ,I;;;;;yCACHD,IAAIG,MAAJ,CAAWF,KAAX,EAAiBC,QAAQ,IAAT,GAAiBA,IAAjB,GAAwB,EAAxC,C;;;AAERF,YAAII,GAAJ,CAAQ,gBAAR;;;;;;;;;;;;;;;;;;;0GAGUJ,G;QAAIE,I,uEAAK,I;;;;;cAChBA,QAAQ,I;;;;;0CACHF,IAAIK,IAAJ,CAASH,IAAT,C;;;AAERF,YAAII,GAAJ,CAAQ,iBAAR;;;;;;;;;;;;;;;;;;;0GAGcE,G;;;;;;AACVC,iB,GAAY,E,EAChBC,M,GAASF,IAAIG,gBAAJ,E;;aACND,M;;;;;AACFA,eAAOE,OAAP,CAAe,UAASC,KAAT,EAAe;AAC7BJ,sBAAaI,MAAMC,GAAN,GAAY,MAAzB;AACA,SAFD;0CAGOL,S;;;0CAED,I;;;;;;;;;;;;;;;;;;;;AAGTM,OAAOC,OAAP,GAAiBf,UAAjB;AACA","file":"Controller.js","sourcesContent":["import trim from 'trim'\r\nimport autobind from 'class-autobind'\r\nimport _ from 'lodash'\r\nclass Controller {\r\n\r\n\tconstructor(){\r\n\t\tautobind(this)\r\n\t}\r\n\r\n\tasync view(res,view=null,json=null){\r\n\t\tif(view != null){\r\n\t\t\treturn res.render(view,(json != null) ? json : {})\r\n\t\t}\r\n\t\tres.end('No file loaded')\r\n\t}\r\n\r\n\tasync send(res,json=null){\r\n\t\tif(json != null){\r\n\t\t\treturn res.send(json)\r\n\t\t}\r\n\t\tres.end('NO JSON request')\r\n\t}\r\n\r\n\tasync getError(req){\r\n\t\tlet errorList = \"\",\r\n\t\terrors = req.validationErrors()\r\n\t\tif(errors){\r\n\t\t\terrors.forEach(function(error){\r\n\t\t\t\terrorList += error.msg + '<br>'\r\n\t\t\t})\r\n\t\t\treturn errorList\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n}\r\nmodule.exports = Controller\r\n// export default Controller"]}